/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

buildscript{
    repositories {
        maven {url 'https://plugins.gradle.org/m2/'}
    }
     dependencies {
    classpath "com.github.node-gradle:gradle-node-plugin:2.2.2"
  }
}

apply plugin:'com.github.node-gradle.node'

def baseDir

node {
    version = '12.16.1'
    npmVersion = '6.13.4'
    download = true
    workDir = file("$project.buildDir")
}

task npmPackage(type: NpmTask) {
    description 'Install Node.js packages'
    args = ['install']
    inputs.file file('package.json')
}

task npmtest(type: NpmTask, dependsOn: npmPackage) {
    description 'Start test suit'
    args = ['run','test']
}

task npmUpdateWebDrive(type: NpmTask, dependsOn: npmPackage) {
    description 'Update webdriver Manager'
    args = ['run','update-webdriver']
}

task npmStartWebDrive(type: NpmTask, dependsOn: npmUpdateWebDrive) {
    description 'Start webdriver Manager'
    args = ['run','start-webdriver']
}

task npmStopWebDrive(type: NpmTask) {
    description 'Stop webdriver Manager'
    args = ['run','stop-webdriver']
}

task npmGenerateReport(type: NpmTask) {
    description 'Generate Allure Reports'
    args = ['run','genrate-report']
}